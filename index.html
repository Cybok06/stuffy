<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stockly — Offline‑First Inventory</title>
  <meta name="description" content="Stockly is an offline‑first inventory web app for boutiques and small retail teams." />
  <meta name="theme-color" content="#0b1220" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Bungee&display=swap" rel="stylesheet">

  <style>
    /* =====================
       THEME & TOKENS
       ===================== */
    :root{
      --bg: #0c0f14;              /* canvas */
      --surface: #111827cc;       /* glass base */
      --ink: #e5e7eb;             /* text */
      --muted: #9ca3af;           /* secondary text */
      --ring: #3b82f6;            /* focus */
      --brand: #60a5fa;           /* accents */
      --brand-2: #22d3ee;
      --outline: #1f2937;
      --shadow: 0 10px 30px rgba(0,0,0,.35), 0 2px 10px rgba(0,0,0,.25);
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg: #f6f7fb;
        --surface: #ffffffcc;
        --ink: #111827;
        --muted: #6b7280;
        --ring: #2563eb;
        --brand: #0ea5e9;
        --brand-2: #22c55e;
        --outline: #e5e7eb;
        --shadow: 0 10px 30px rgba(2,6,23,.08), 0 2px 10px rgba(2,6,23,.06);
      }
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:var(--ink); background:var(--bg);}

    /* =====================
       AURORA/GRID BACKGROUND
       ===================== */
    .bg-wrap{position:fixed; inset:0; z-index:-1; overflow:hidden}
    .bg-aurora{
      position:absolute; inset:-20% -20% -20% -20%;
      background:
        radial-gradient(40% 35% at 15% 15%, rgba(96,165,250,.35), transparent 55%),
        radial-gradient(35% 30% at 85% 20%, rgba(34,211,238,.30), transparent 60%),
        radial-gradient(45% 35% at 40% 90%, rgba(34,197,94,.22), transparent 60%),
        radial-gradient(30% 25% at 75% 80%, rgba(168,85,247,.22), transparent 55%);
      filter: blur(60px) saturate(120%);
      animation: float 24s ease-in-out infinite alternate;
    }
    @keyframes float{0%{transform:translateY(-2%) scale(1)} 100%{transform:translateY(2%) scale(1.03)}}

    .bg-grid{
      position:absolute; inset:0;
      background-image: linear-gradient(var(--outline) 1px, transparent 1px), linear-gradient(90deg, var(--outline) 1px, transparent 1px);
      background-size: 40px 40px;
      opacity:.08; mask-image: radial-gradient(60% 60% at 50% 40%, #000, transparent 90%);
    }

    /* =====================
       LAYOUT
       ===================== */
    .shell{min-height:100dvh; display:grid; place-items:center; padding:24px}
    .card{
      width:min(960px, 92vw);
      display:grid; grid-template-columns: 1.1fr .9fr; gap:32px; align-items:center;
      padding:28px; border:1px solid var(--outline); border-radius:24px;
      background: linear-gradient( to bottom right, var(--surface), color-mix(in hsl, var(--surface) 80%, transparent));
      backdrop-filter: blur(10px) saturate(120%);
      box-shadow: var(--shadow);
    }
    @media (max-width:900px){ .card{ grid-template-columns:1fr; padding:22px; gap:22px } }

    /* BRAND / LOGO */
    .brand{ display:flex; align-items:center; gap:14px }
    .mark{ width:54px; height:54px; border-radius:14px; background: conic-gradient(from 220deg, var(--brand), var(--brand-2), var(--brand)); box-shadow: inset 0 0 0 2px rgba(255,255,255,.14); position:relative }
    .mark::after{content:""; position:absolute; inset:6px; border-radius:10px; background:linear-gradient(180deg, #00000022, #ffffff10)}
    .brand h1{ font-family:"Bungee", system-ui; letter-spacing:.3px; font-size:40px; line-height:1; margin:0 }
    .subtitle{ margin:.6rem 0 0; color:var(--muted); font-weight:500 }

    /* CTA AREA */
    .actions{ display:flex; flex-wrap:wrap; gap:12px; margin-top:20px }
    .btn{ -webkit-tap-highlight-color:transparent; appearance:none; border:1px solid var(--outline); border-radius:14px; padding:12px 16px; background:#0b1220; color:#fff; font-weight:700; cursor:pointer; box-shadow: 0 6px 16px rgba(2,6,23,.25); transition: transform .15s ease, box-shadow .2s ease, background .2s ease }
    .btn:hover{ transform: translateY(-1px) }
    .btn:active{ transform: translateY(0) scale(.99) }
    .btn.secondary{ background:transparent; color:var(--ink); font-weight:600; border-style:dashed }
    .kbd{ display:inline-grid; place-items:center; border:1px solid var(--outline); border-bottom-width:2px; padding:2px 6px; border-radius:8px; font:600 12px/1.2 Inter, sans-serif; }

    /* RIGHT PANE (mock preview) */
    .device{
      position:relative; aspect-ratio: 9/16; width: min(420px, 72vw);
      border-radius:26px; border:1px solid var(--outline);
      background: linear-gradient(180deg, #0b1220, #0b1220 50%, #0f172a);
      overflow:hidden; box-shadow: var(--shadow);
    }
    .statusbar{ display:flex; justify-content:space-between; padding:10px 14px; font-size:12px; letter-spacing:.2px; color:#cbd5e1; background:linear-gradient(180deg,#0f172a,#0b1220) }

    .tiles{ display:grid; grid-template-columns:repeat(2,1fr); gap:12px; padding:14px }
    .tile{ border-radius:14px; padding:14px; background:linear-gradient(180deg, #111827, #0b1220); border:1px solid #1f2937 }
    .tile h4{ margin:0 0 4px; font-size:13px; color:#cbd5e1 }
    .tile p{ margin:0; font-size:20px; font-weight:800 }

    .ticker{ display:flex; gap:10px; align-items:center; padding:12px 14px; border-top:1px dashed #1f2937; color:#a7f3d0; font-weight:600 }
    .dot{ width:8px; height:8px; border-radius:999px; background:#10b981; box-shadow:0 0 0 6px #10b98122 }

    /* FOOT */
    .foot{ display:flex; align-items:center; gap:10px; justify-content:space-between; margin-top:18px; color:var(--muted); font-size:13px }
    .switch{ display:inline-flex; align-items:center; gap:10px }
    .toggle{ inline-size:48px; block-size:28px; border-radius:999px; background: #0b1220; border:1px solid var(--outline); position:relative; cursor:pointer }
    .toggle::after{ content:""; position:absolute; inset:3px auto 3px 3px; inline-size:20px; block-size:20px; border-radius:999px; background:#fff; transition: transform .2s ease }
    .toggle.active::after{ transform: translateX(20px) }

    /* ACCESSIBILITY */
    :focus-visible{ outline:2px solid var(--ring); outline-offset:3px; border-radius:6px }

    /* REDUCED MOTION */
    @media (prefers-reduced-motion: reduce){
      .bg-aurora{ animation:none }
      .btn{ transition:none }
    }
  </style>
</head>
<body>
  <!-- Background layers -->
  <div class="bg-wrap" aria-hidden="true">
    <div class="bg-aurora"></div>
    <div class="bg-grid"></div>
  </div>

  <main class="shell">
    <section class="card" aria-labelledby="title">
      <!-- Left: brand + copy -->
      <div>
        <div class="brand">
          <div class="mark" aria-hidden="true"></div>
          <div>
            <h1 id="title">Stuffy</h1>
            <p class="subtitle">Offline‑first inventory for boutique & field sales teams. Fast, resilient, beautiful.</p>
          </div>
        </div>

        <div class="actions" role="group" aria-label="Primary actions">
          <button id="continueBtn" class="btn" type="button">Continue</button>
          <button id="installBtn" class="btn secondary" type="button" title="Install as app">Install</button>
          <span class="kbd" aria-hidden="true">Enter</span>
        </div>

        <div class="foot">
          <div class="switch">
            <span>System Offline:</span>
            <span class="dot" id="netDot" title="Network status"></span>
          </div>
          <div class="switch">
            <span>Reduce motion</span>
            <div id="motionToggle" class="toggle" role="switch" aria-checked="false" tabindex="0" aria-label="Reduce motion toggle"></div>
          </div>
        </div>
      </div>

      <!-- Right: device mock preview -->
      <div class="device" aria-label="Preview">
        <div class="statusbar"><span>Stuffy</span><span id="clock">00:00</span></div>
        <div class="tiles">
          <div class="tile"><h4>Today Sales</h4><p id="tSales">GHS 0</p></div>
          <div class="tile"><h4>Active Clients</h4><p id="tClients">0</p></div>
          <div class="tile"><h4>Low Stock</h4><p id="tLow">0</p></div>
          <div class="tile"><h4>Pending Deliveries</h4><p id="tDeliver">0</p></div>
        </div>
        <div class="ticker" id="ticker"><span class="dot" aria-hidden="true"></span> Ready. Works offline.</div>
      </div>
    </section>
  </main>

  <noscript>
    <div style="position:fixed;inset:auto 16px 16px 16px;background:#b91c1c;color:#fff;padding:12px 14px;border-radius:12px;font-weight:600;box-shadow:0 8px 20px rgba(0,0,0,.25)">
      stuffy requires JavaScript. Please enable it to continue.
    </div>
  </noscript>

  <script>
    // =====================
    // CONFIG
    // =====================
    const NEXT_URL = 'welcome_1.html'; // change to your first screen

    // =====================
    // CONTINUE FLOW
    // =====================
    const continueBtn = document.getElementById('continueBtn');
    continueBtn?.addEventListener('click', goNext);
    document.addEventListener('keydown', (e)=>{ if(e.key==='Enter') goNext(); });

    function goNext(){
      try{ localStorage.setItem('stockly_first_visit', new Date().toISOString()); }catch(e){}
      location.href = NEXT_URL;
    }

    // =====================
    // NETWORK/ OFFLINE INDICATOR
    // =====================
    const netDot = document.getElementById('netDot');
    const ticker = document.getElementById('ticker');

    function paintNet(){
      const online = navigator.onLine;
      if(!netDot || !ticker) return;
      if(online){
        netDot.style.background = '#10b981';
        netDot.style.boxShadow = '0 0 0 6px #10b98122';
        ticker.style.color = '#a7f3d0';
        ticker.textContent = 'Online. Sync is enabled.';
      }else{
        netDot.style.background = '#ef4444';
        netDot.style.boxShadow = '0 0 0 6px #ef444422';
        ticker.style.color = '#fecaca';
        ticker.textContent = 'Offline. Your data will sync when back online.';
      }
    }
    addEventListener('online', paintNet);
    addEventListener('offline', paintNet);
    paintNet();

    // =====================
    // CLOCK MOCK + SAMPLE KPIs (for feel only)
    // =====================
    const clock = document.getElementById('clock');
    const tSales = document.getElementById('tSales');
    const tClients = document.getElementById('tClients');
    const tLow = document.getElementById('tLow');
    const tDeliver = document.getElementById('tDeliver');

    function tick(){
      const d = new Date();
      if(clock){
        const h = String(d.getHours()).padStart(2,'0');
        const m = String(d.getMinutes()).padStart(2,'0');
        clock.textContent = `${h}:${m}`;
      }
    }
    setInterval(tick, 1000); tick();

    // Randomize demo KPIs for a lively preview
    const rnd = (min,max)=> Math.floor(Math.random()*(max-min+1))+min;
    tSales && (tSales.textContent = `GHS ${rnd(250, 1850).toLocaleString()}`);
    tClients && (tClients.textContent = `${rnd(18, 96)}`);
    tLow && (tLow.textContent = `${rnd(0, 7)}`);
    tDeliver && (tDeliver.textContent = `${rnd(2, 14)}`);

    // =====================
    // INSTALL (PWA) DIALOG HOOK (optional)
    // =====================
    let deferredPrompt; const installBtn = document.getElementById('installBtn');
    window.addEventListener('beforeinstallprompt', (e)=>{ e.preventDefault(); deferredPrompt = e; installBtn?.removeAttribute('disabled'); });
    installBtn?.addEventListener('click', async ()=>{ if(!deferredPrompt) return; deferredPrompt.prompt(); const { outcome } = await deferredPrompt.userChoice; deferredPrompt = null; installBtn.setAttribute('disabled', 'disabled'); ticker.textContent = outcome === 'accepted' ? 'Installed!' : 'Install dismissed.'; });

    // =====================
    // MOTION TOGGLE (accessibility)
    // =====================
    const motionToggle = document.getElementById('motionToggle');
    const PREF_KEY = 'stockly_reduce_motion';

    function applyMotionPref(){
      const reduced = localStorage.getItem(PREF_KEY) === '1';
      document.documentElement.style.scrollBehavior = reduced ? 'auto' : 'smooth';
      document.querySelector('.bg-aurora')?.style.setProperty('animation', reduced ? 'none' : 'float 24s ease-in-out infinite alternate');
      motionToggle?.classList.toggle('active', reduced);
      motionToggle?.setAttribute('aria-checked', String(reduced));
    }

    function toggleMotion(){
      const reduced = !(localStorage.getItem(PREF_KEY) === '1');
      localStorage.setItem(PREF_KEY, reduced ? '1' : '0');
      applyMotionPref();
    }
    motionToggle?.addEventListener('click', toggleMotion);
    motionToggle?.addEventListener('keydown', (e)=>{ if(e.key===' '||e.key==='Enter'){ e.preventDefault(); toggleMotion(); }});
    applyMotionPref();
  </script>
</body>
</html>

